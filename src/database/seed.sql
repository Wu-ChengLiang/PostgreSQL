-- 初始化数据

-- 插入测试用户
INSERT INTO users (username, email, phone, password_hash) VALUES
('test_user', 'test@example.com', '13800138000', '$2b$10$YourHashedPasswordHere'),
('张三', 'zhangsan@example.com', '13900139000', '$2b$10$YourHashedPasswordHere'),
('李四', 'lisi@example.com', '13700137000', '$2b$10$YourHashedPasswordHere');

-- 插入门店数据
INSERT INTO stores (name, address, phone, business_hours, rating, review_count) VALUES
('名医堂·颈肩腰腿特色调理（莘庄店）', '上海市闵行区莘庄地铁站北广场', '021-64123456', '09:00-21:00', 4.8, 156),
('名医堂·推拿理疗中心（徐汇店）', '上海市徐汇区徐家汇路123号', '021-64234567', '09:00-21:00', 4.7, 89),
('名医堂·中医养生馆（浦东店）', '上海市浦东新区张江高科地铁站', '021-68345678', '09:00-21:00', 4.9, 234),
('名医堂·艾灸调理中心（静安店）', '上海市静安区南京西路456号', '021-62456789', '10:00-22:00', 4.6, 67),
('名医堂·康复理疗馆（杨浦店）', '上海市杨浦区五角场万达广场', '021-65567890', '09:00-21:00', 4.8, 123);

-- 插入技师数据
INSERT INTO therapists (name, store_id, title, specialties, service_types, bio, rating, review_count, years_experience) VALUES
-- 莘庄店技师
('陈老师', 1, '高级推拿师', '["颈椎调理", "腰椎调理", "运动损伤康复"]', '["推拿", "正骨", "拔罐"]', '从事中医推拿20年，擅长颈肩腰腿痛调理', 4.9, 89, 20),
('王老师', 1, '中医理疗师', '["肩周炎调理", "腰肌劳损", "经络调理"]', '["推拿", "艾灸", "刮痧"]', '专注经络调理15年，手法轻柔有效', 4.8, 67, 15),
('张技师', 1, '推拿师', '["全身推拿", "足底按摩", "头部理疗"]', '["推拿", "足疗"]', '擅长全身放松推拿，缓解疲劳', 4.7, 45, 8),

-- 徐汇店技师
('李医师', 2, '主任医师', '["脊柱调理", "骨关节疾病", "运动康复"]', '["推拿", "正骨", "理疗"]', '三甲医院康复科主任，30年临床经验', 5.0, 156, 30),
('刘老师', 2, '高级艾灸师', '["妇科调理", "脾胃调理", "体质调理"]', '["艾灸", "拔罐", "刮痧"]', '中医世家传承，擅长艾灸调理各类慢性病', 4.9, 98, 18),

-- 浦东店技师
('赵医生', 3, '副主任医师', '["颈椎病", "腰椎间盘突出", "关节炎"]', '["推拿", "正骨", "针灸"]', '上海中医药大学硕士，专攻脊柱相关疾病', 4.9, 134, 15),
('孙技师', 3, '理疗师', '["肌肉放松", "淋巴排毒", "面部护理"]', '["推拿", "精油SPA", "美容"]', '日式手法结合中医理论，深度放松', 4.8, 78, 10),
('周老师', 3, '康复治疗师', '["运动损伤", "术后康复", "姿势矫正"]', '["理疗", "康复训练", "推拿"]', '运动医学背景，专业运动康复指导', 4.7, 56, 12),

-- 静安店技师
('吴老师', 4, '特级艾灸师', '["三伏灸", "温阳补肾", "驱寒祛湿"]', '["艾灸", "药灸", "热敷"]', '艾灸技术传承人，调理效果显著', 4.9, 89, 25),
('郑医师', 4, '中医师', '["内科调理", "慢性疲劳", "亚健康调理"]', '["推拿", "拔罐", "中药热敷"]', '中西医结合，个性化调理方案', 4.8, 67, 20),

-- 杨浦店技师
('钱老师', 5, '推拿总监', '["小儿推拿", "产后恢复", "女性调理"]', '["推拿", "产后修复", "艾灸"]', '专注女性和儿童健康调理20年', 5.0, 234, 20),
('冯技师', 5, '康复师', '["膝关节康复", "肩周炎康复", "腰痛康复"]', '["理疗", "运动康复", "推拿"]', '康复医学专业，注重功能恢复', 4.7, 45, 8),
('褚老师', 5, '理疗师', '["头部理疗", "失眠调理", "压力缓解"]', '["头疗", "推拿", "香薰"]', '独特头部理疗手法，改善睡眠质量', 4.8, 78, 12);

-- 插入预约数据（示例）
INSERT INTO appointments (user_id, therapist_id, store_id, service_type, appointment_date, start_time, end_time, status, notes) VALUES
(1, 1, 1, '推拿', date('now', '+1 day'), '14:00', '15:00', 'confirmed', '颈椎不适，需要重点调理'),
(2, 4, 2, '正骨', date('now', '+2 day'), '10:00', '11:00', 'confirmed', '腰椎问题，李医师推荐'),
(3, 6, 3, '推拿', date('now', '+3 day'), '15:00', '16:00', 'pending', '首次体验');

-- 更新门店和技师的统计数据
UPDATE stores SET review_count = (SELECT COUNT(*) FROM therapists WHERE store_id = stores.id) * 20;
UPDATE therapists SET review_count = 10 + RANDOM() % 100;