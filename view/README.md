# 数据库查看器

本工具提供了两种方式来查看 `mingyi.db` 数据库中的所有表数据：

## 1. Web版本（推荐）

基于Flask的Web界面，功能更丰富，界面更美观。

### 启动步骤：

1. 安装依赖：
   ```bash
   pip install -r requirements.txt
   ```

2. 启动Web服务器：
   ```bash
   python database_viewer.py
   ```

3. 打开浏览器访问：
   ```
   http://localhost:5001
   ```

### 功能特性：

- 📊 数据库概览：显示所有表的基本信息
- 📋 表数据查看：支持分页浏览表数据
- 🔍 字段类型显示：清晰显示每个字段的数据类型和约束
- 📈 统计信息：显示记录数、字段数等统计信息
- 🎨 响应式设计：支持各种屏幕尺寸
- 🔄 实时数据：动态从数据库加载最新数据

## 2. 桌面版本

基于Tkinter的桌面应用程序，无需浏览器。

### 启动步骤：

```bash
python database_viewer_tkinter.py
```

### 功能特性：

- 🖥️ 桌面应用：无需浏览器，独立运行
- 📁 表列表：左侧显示所有表名
- 📊 数据展示：右侧显示选中表的数据
- 📋 表结构：查看详细的表结构信息
- 💾 数据导出：支持导出为CSV格式
- 🔄 数据刷新：一键刷新表数据
- ⚡ 性能优化：限制显示1000行以提高性能

## 数据库信息

当前数据库包含以下表：

- **appointments**: 预约记录表
- **stores**: 门店信息表
- **users**: 用户信息表

## 使用建议

1. **首次使用**：建议使用Web版本，界面更友好
2. **数据导出**：使用桌面版本可以方便地导出CSV文件
3. **性能考虑**：大数据量时，两个版本都有性能限制
   - Web版本：每页最多200条记录
   - 桌面版本：最多显示1000条记录

## 技术架构

### Web版本
- **后端**: Flask + SQLite3
- **前端**: Bootstrap 5 + HTML5
- **数据库**: SQLite3 with Row Factory

### 桌面版本
- **GUI框架**: Tkinter
- **数据库**: SQLite3
- **数据导出**: CSV模块

## 注意事项

1. 确保 `mingyi.db` 文件存在于项目根目录
2. 两个程序会自动检测数据库文件路径
3. Web版本运行在5001端口，确保端口未被占用
4. 桌面版本需要Python的tkinter模块（通常已预装）

## 故障排除

### 常见问题：

1. **数据库文件不存在**
   - 检查mingyi.db文件是否在正确位置
   - 确认文件路径和权限

2. **Web版本无法访问**
   - 检查5001端口是否被占用
   - 确认防火墙设置

3. **桌面版本无法启动**
   - 确认tkinter模块已安装
   - 检查Python版本兼容性

4. **数据显示异常**
   - 刷新页面或重启应用
   - 检查数据库文件完整性 